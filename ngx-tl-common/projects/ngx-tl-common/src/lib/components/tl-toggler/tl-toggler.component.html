<!-- Toggler Button -->
<div
  [ngStyle]="{
      'height' : this.height + 'px',
      'width' : 1.8 * this.height + 'px',
      'border-radius' : 1/2 * this.height + 'px',
      'margin': this.margin + 'px'
    }"
  [class]="'toggler-container ' + this.containerStyle + ' tl-hor-left tl-vert-center tl-row-dir tl-container-flex-block'"
  [class.tl-failure-bg-element]="
    (this.onBgColor == 'tl-failure' && this.targetState && this.togglerLoadingStatus != 0) 
    || (this.offBgColor == 'tl-failure' && !this.targetState && this.togglerLoadingStatus != 0)
    || (this.loadingBgColor == 'tl-failure' && this.togglerLoadingStatus == 0)"
  [class.tl-success-bg-element]="
    (this.onBgColor == 'tl-success' && this.targetState && this.togglerLoadingStatus != 0) 
    || (this.offBgColor == 'tl-success' && !this.targetState && this.togglerLoadingStatus != 0)
    || (this.loadingBgColor == 'tl-success' && this.togglerLoadingStatus == 0)"
  [class.tl-neutral-bg-element]="
    (this.onBgColor == 'tl-neutral' && this.targetState && this.togglerLoadingStatus != 0) 
    || (this.offBgColor == 'tl-neutral' && !this.targetState && this.togglerLoadingStatus != 0)
    || (this.loadingBgColor == 'tl-neutral' && this.togglerLoadingStatus == 0)"
  [class.tl-outline-bg-element]="
    (this.onBgColor == 'tl-outline' && this.targetState && this.togglerLoadingStatus != 0) 
    || (this.offBgColor == 'tl-outline' && !this.targetState && this.togglerLoadingStatus != 0)
    || (this.loadingBgColor == 'tl-outline' && this.togglerLoadingStatus == 0)"
  (click)="$event.stopPropagation();this.onClickToggler()">
  
  <tl-stateful-button
    class="toggler-moving-part"
    [class.on]="this.targetState"
    [shape]="'round'"
    [icon]="this.icon"
    [size]="this.buttonContainerRatio * this.height"
    [tlStyle]="this.buttonStyle"
    [margin]="0"
    [status]="this.togglerLoadingStatus"
    [ngStyle]="{
      'margin-left' : (this.targetState) ? (0.8 * this.height) + (1 - this.buttonContainerRatio) / 2 * this.height  + 'px': (1 - this.buttonContainerRatio) / 2 * this.height + 'px',
      'margin-top' : (this.buttonContainerRatio > 1) ? (1 - this.buttonContainerRatio) / 2 * this.height + 'px': '0px'
    }"
    (clickButton)="this.onClickToggler()">
  </tl-stateful-button>
  
</div>

<!-- Label -->
<div
  *ngIf="this.label != ''"
  class="toggler-label">
  
  {{ this.label }}
  
</div>